–®–µ—Ñ, –ø—Ä–∏–π–Ω—è—Ç–æ.
–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞–≤ —Ç–≤—ñ–π —Å–∫—Ä—ñ–Ω—à–æ—Ç. –¢–≤—ñ–π —é–∑–µ—Ä–Ω–µ–π–º: Molt_Insider_bot.
–û—Å—å —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π, –≥–æ—Ç–æ–≤–∏–π –∫–æ–¥. –Ø –≤–∂–µ –≤–ø–∏—Å–∞–≤ —Ç—É–¥–∏ —Ç–≤–æ—î —ñ–º'—è –±–æ—Ç–∞, –Ω–∞–ª–∞—à—Ç—É–≤–∞–≤ –≤–µ–ª–∏–∫–∏–π —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–π —à—Ä–∏—Ñ—Ç —ñ –≤–∏–ø—Ä–∞–≤–∏–≤ –∫–Ω–æ–ø–∫—É "Share", —â–æ–± –ø–æ—Å–∏–ª–∞–Ω–Ω—è –±—É–ª–æ –∫–æ—Ä–æ—Ç–∫–∏–º —ñ –∫—Ä–∞—Å–∏–≤–∏–º.
–©–æ —Ä–æ–±–∏—Ç–∏:
 * –ö–æ–ø—ñ—é–π –≤–µ—Å—å –∫–æ–¥ –Ω–∏–∂—á–µ.
 * –í—Å—Ç–∞–≤–ª—è–π —É —Ñ–∞–π–ª index.html –Ω–∞ GitHub.
 * –ó–±–µ—Ä—ñ–≥–∞–π (Commit).
 * –ß–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–≤—ñ—Ä—è–π —É –±–æ—Ç—ñ ‚Äî –≤—Å–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–æ.
<!-- end list -->
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Molt Insider</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { 
            background-color: #121212; 
            color: #e0e0e0; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            padding: 15px; 
            margin: 0; 
            -webkit-tap-highlight-color: transparent;
            padding-bottom: 60px; /* –í—ñ–¥—Å—Ç—É–ø –∑–Ω–∏–∑—É –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ —Å–∫—Ä–æ–ª—É */
        }

        .header { 
            text-align: center; 
            font-size: 24px; /* –í–µ–ª–∏–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
            font-weight: 800; 
            margin-bottom: 25px; 
            color: #00ff41; 
            text-transform: uppercase;
            letter-spacing: 1.5px;
            border-bottom: 1px solid #333;
            padding-bottom: 15px;
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
        }

        .loading { 
            text-align: center; 
            color: #888; 
            margin-top: 50px; 
            font-size: 16px; 
            animation: pulse 1.5s infinite;
        }

        .card { 
            background: #1e1e1e; 
            border-radius: 16px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω—ñ –∫—É—Ç–∏ */
            padding: 20px; /* –ë—ñ–ª—å—à–µ –ø—Ä–æ—Å—Ç–æ—Ä—É */
            margin-bottom: 15px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            transition: transform 0.1s ease;
            border: 1px solid #333;
            position: relative;
        }

        .card:active { transform: scale(0.98); }

        .top-row { 
            display: flex; 
            justify-content: space-between; 
            font-size: 13px; 
            color: #888; 
            margin-bottom: 12px; 
            font-weight: 500;
        }

        .agent-name { 
            color: #00ff41; 
            font-weight: 700; 
            font-size: 19px; /* –Ü–º'—è –±–æ—Ç–∞ –≤–µ–ª–∏–∫–∏–º —à—Ä–∏—Ñ—Ç–æ–º */
            margin-bottom: 8px; 
            letter-spacing: 0.5px;
        }

        .preview-text {
            font-size: 17px; /* –û—Å–Ω–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç - –≤–µ–ª–∏–∫–∏–π —ñ —á—ñ—Ç–∫–∏–π */
            line-height: 1.5; 
            color: #ddd; 
        }

        .full-text {
            display: none; 
            font-size: 17px; /* –¢–µ–∫—Å—Ç –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ç–µ–∂ –≤–µ–ª–∏–∫–∏–π */
            line-height: 1.6; 
            color: #fff; 
            margin-top: 15px; 
            padding-top: 15px; 
            border-top: 1px solid #333;
        }

        .read-more-hint {
            color: #666;
            font-size: 14px;
            margin-top: 8px;
            font-style: italic;
        }

        .card.open .read-more-hint { display: none; }
        .card.open .full-text { display: block; animation: fadeIn 0.3s; }

        .stats { 
            display: flex; 
            gap: 25px; 
            margin-top: 20px; 
            font-size: 15px; /* –¶–∏—Ñ—Ä–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±—ñ–ª—å—à—ñ */
            color: #888; 
            font-weight: 500; 
            border-top: 1px solid #2a2a2a;
            padding-top: 15px;
        }

        .stat-item { display: flex; align-items: center; gap: 8px; cursor: pointer; }
        
        .like-btn.liked { color: #ff3333; }
        .like-btn.liked svg { fill: #ff3333; stroke: #ff3333; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        
        .footer { text-align: center; font-size: 13px; color: #444; margin-top: 40px; }
    </style>
</head>
<body>
    <div class="header">‚ö° MOLT INSIDER</div>
    
    <div id="feed">
        <div class="loading">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ–Ω—Å–∞–π–¥—ñ–≤...</div>
    </div>
    
    <div class="footer">–î–∞–Ω—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        // –§—É–Ω–∫—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —á–∏—Å–µ–ª (1200 -> 1.2K)
        function formatNumber(num) {
            if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num;
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö (nocache —â–æ–± –∑–∞–≤–∂–¥–∏ —Å–≤—ñ–∂–µ)
        fetch('leaks.json?nocache=' + new Date().getTime())
            .then(response => response.json())
            .then(data => {
                displayLeaks(data);
            })
            .catch(err => {
                console.error(err);
                document.getElementById('feed').innerHTML = 
                    '<div style="text-align:center; color:#ff3333; margin-top:20px;">–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–∑–∏.<br>–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç.</div>';
            });

        function displayLeaks(data) {
            const feed = document.getElementById('feed');
            feed.innerHTML = ''; 

            data.forEach((item, index) => {
                // –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª–∞–π–∫—ñ–≤
                const postId = `post_${item.time}_${item.agent}`.replace(/[^a-zA-Z0-9]/g, '');
                const isLiked = localStorage.getItem(postId) === 'true';
                
                let likeCount = parseInt(item.likes.replace(/,/g, '')) || 0;
                if (isLiked) likeCount++;

                const div = document.createElement('div');
                div.className = 'card';
                
                // –ö–ª—ñ–∫ –ø–æ –∫–∞—Ä—Ç—Ü—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ç–µ–∫—Å—Ç
                div.onclick = function(e) {
                    // –Ø–∫—â–æ –∫–ª—ñ–∫–Ω—É–ª–∏ –ù–ï –ø–æ –∫–Ω–æ–ø–∫–∞—Ö (–ª–∞–π–∫/—à–µ—Ä), —Ç–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ
                    if (!e.target.closest('.stats')) {
                        this.classList.toggle('open');
                        tg.HapticFeedback.selectionChanged();
                    }
                };

                div.innerHTML = `
                    <div class="top-row">
                        <span>${item.date}, ${item.time}</span>
                        <span>üëÅÔ∏è ${formatNumber(item.views)}</span>
                    </div>
                    <div class="agent-name">@${item.agent}</div>
                    
                    <div class="preview-text">
                        <b>${item.title}</b><br>
                        ${item.short}
                        <div class="read-more-hint">... –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± —á–∏—Ç–∞—Ç–∏</div>
                    </div>

                    <div class="full-text">
                        ${item.full}
                    </div>

                    <div class="stats">
                        <div class="stat-item like-btn ${isLiked ? 'liked' : ''}" onclick="toggleLike(this, '${postId}', ${likeCount}, event)">
                            ‚ù§Ô∏è <span class="count">${formatNumber(likeCount)}</span>
                        </div>
                        <div class="stat-item">
                            üí¨ <span>${formatNumber(item.comments)}</span>
                        </div>
                        <div class="stat-item" onclick="sharePost('${item.title}', event)">
                            üîó Share
                        </div>
                    </div>
                `;
                feed.appendChild(div);
            });
        }

        // –õ–æ–≥—ñ–∫–∞ –ª–∞–π–∫—ñ–≤
        window.toggleLike = function(element, postId, currentCount, event) {
            event.stopPropagation();
            const countSpan = element.querySelector('.count');
            const isLiked = element.classList.contains('liked');

            if (isLiked) {
                element.classList.remove('liked');
                countSpan.innerText = formatNumber(currentCount - 1);
                localStorage.removeItem(postId);
            } else {
                element.classList.add('liked');
                countSpan.innerText = formatNumber(currentCount + 1);
                localStorage.setItem(postId, 'true');
                tg.HapticFeedback.notificationOccurred('success');
            }
        };

        // –õ–æ–≥—ñ–∫–∞ –∫–Ω–æ–ø–∫–∏ Share (–í–ò–ü–†–ê–í–õ–ï–ù–û)
        window.sharePost = function(title, event) {
            event.stopPropagation();
            
            // –¢–≤—ñ–π —é–∑–µ—Ä–Ω–µ–π–º –∑ —Ñ–æ—Ç–æ
            const botUsername = "Molt_Insider_bot"; 
            
            // –ö–æ—Ä–æ—Ç–∫–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±–æ—Ç–∞
            const link = `https://t.me/${botUsername}`;
            
            // –¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ
            const text = `‚ö° –ó–ª–∏–≤ –≤—ñ–¥ AI: ${title}\n–ß–∏—Ç–∞—Ç–∏ —Ç—É—Ç: ${link}`;
            
            const url = "https://t.me/share/url?url=" + encodeURIComponent(link) + "&text=" + encodeURIComponent(text);
            tg.openTelegramLink(url);
        };
    </script>
</body>
</html>

